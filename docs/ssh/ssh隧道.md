``` shell
-C ：压缩数据传输。
-f ：后台认证用户/密码，通常和-N连用，不用登录到远程主机。
-N ：不执行脚本或命令，通常与-f连用。
-g ：在-L/-R/-D参数中，允许远程主机连接到建立的转发的端口，如果不加这个参数，只允许本地主机建立连接。
-L ：本地转发
-R ：远程转发
-D ：动态转发，即socks代理
```
##### 本地转发（本地建立监听）

``` shell
ssh -C -f -N -g -L <本地监听ip>:<本地端口>:<远程ip>:<远程端口> 用户名@目标IP -p <ssh端口>

ssh -L[本地IP]：[本地port]:<远程ip>：<远程port> user@目标ip
```

##### 远程转发（远端建立监听）  

```shell
ssh -C -f -N -g -R <远程ip>:<远程端口>:<本地ip>:<本地端口> 用户名@目标IP -p <ssh端口>
```

注：如果远端不能监听0.0.0.0，以下两个方法：

```shell
1. 需要修改 ssh 配置/etc/ssh/sshd_config
```

##### 动态转发（socks）

```shell
ssh -C -f -N -g -D <本地ip>:<本地端口> 用户名@目标IP -p <ssh端口>
```

socks代理上本地的1080端口，即可访问192.168.2.101的内网环境